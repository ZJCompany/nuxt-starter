import{_ as u,d as w,f as s,c as h,e as d,r as g,a as r,w as e,o as C,x as n,t as i,y as j,n as y}from"./entry-020a2e38.mjs";import _ from"./Button-91413df0.mjs";import P from"./DialogModal-2c23b134.mjs";import b from"./Input-67b57870.mjs";import $ from"./InputError-771b8322.mjs";import k from"./SecondaryButton-0331806c.mjs";import"./Modal-df54e84c.mjs";const B=w({emits:["confirmed"],props:{title:{default:"Confirm Password"},content:{default:"For your security, please confirm your password to continue."},button:{default:"Confirm"}},components:{JetButton:_,JetDialogModal:P,JetInput:b,JetInputError:$,JetSecondaryButton:k},data(){return{confirmingPassword:!1,form:{password:"",error:""}}},methods:{startConfirmingPassword(){axios.get(route("password.confirmation")).then(o=>{o.data.confirmed?this.$emit("confirmed"):(this.confirmingPassword=!0,setTimeout(()=>this.$refs.password.focus(),250))})},confirmPassword(){this.form.processing=!0,axios.post(route("password.confirm"),{password:this.form.password}).then(()=>{this.form.processing=!1,this.closeModal(),this.$nextTick(()=>this.$emit("confirmed"))}).catch(o=>{this.form.processing=!1,this.form.error=o.response.data.errors.password[0],this.$refs.password.focus()})},closeModal(){this.confirmingPassword=!1,this.form.password="",this.form.error=""}}}),M={class:"mt-4"},V=n(" Cancel ");function J(o,t,I,S,v,D){const m=s("jet-input"),l=s("jet-input-error"),f=s("jet-secondary-button"),p=s("jet-button"),c=s("jet-dialog-modal");return C(),h("span",null,[d("span",{onClick:t[0]||(t[0]=(...a)=>o.startConfirmingPassword&&o.startConfirmingPassword(...a))},[g(o.$slots,"default")]),r(c,{show:o.confirmingPassword,onClose:o.closeModal},{title:e(()=>[n(i(o.title),1)]),content:e(()=>[n(i(o.content)+" ",1),d("div",M,[r(m,{type:"password",class:"mt-1 block w-3/4",placeholder:"Password",ref:"password",modelValue:o.form.password,"onUpdate:modelValue":t[1]||(t[1]=a=>o.form.password=a),onKeyup:j(o.confirmPassword,["enter"])},null,8,["modelValue","onKeyup"]),r(l,{message:o.form.error,class:"mt-2"},null,8,["message"])])]),footer:e(()=>[r(f,{onClick:o.closeModal},{default:e(()=>[V]),_:1},8,["onClick"]),r(p,{class:y(["ml-2",{"opacity-25":o.form.processing}]),onClick:o.confirmPassword,disabled:o.form.processing},{default:e(()=>[n(i(o.button),1)]),_:1},8,["onClick","class","disabled"])]),_:1},8,["show","onClose"])])}var q=u(B,[["render",J]]);export{q as default};
